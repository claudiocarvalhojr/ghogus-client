<!-- <div class="container-fluid"> -->
<div class="row col-md-12 cart">
    <% if (cart == null) { %>
    <div class=" row col-md-12">
        <p>Seu carrinho está vazio!</p>
    </div>
    <% } else { %>
    <div class=" row col-md-12">
        <div class="col-md-8">
            <div class="row col-md-12">
                <div class="row cart-title">MEU CARRINHO</div>
                <div class="row ">
                    <div class="table-responsive">
                        <table class="table table-borderless" style="background-color: #fff;">
                            <tbody>
                                <% cart.products.forEach(function (product) { %>
                                <tr>
                                    <td style="width: 10%;"><img src="/images/products/<%= product.images[0].name %>" width="52" height="52"></td>
                                    <td style="text-align: left; padding-top: 25px;">
                                        <%= product.title %><br>SKU:
                                        <%= product.sku %></td>
                                        <% if (product.discount > 0) { %>
                                            <td style="width: 10%; padding-top: 30px;">
                                                <strike><%= (parseFloat(product.price)).toFixed(2).replace('.', ',').split('').reverse().map((v, i) => i > 5 && (i + 6) % 3 === 0 ? `${v}.` : v).reverse().join('') %></strike>
                                            </td>
                                            <td style="width: 10%; padding-top: 30px;">
                                                <%= (product.qty * (parseFloat(product.price) - (((parseFloat(product.price) / 100) * product.discount)))).toFixed(2).replace('.', ',').split('').reverse().map((v, i) => i > 5 && (i + 6) % 3 === 0 ? `${v}.` : v).reverse().join('') %>
                                            </td>
                                        <% } else { %>
                                            <td style="width: 10%; padding-top: 30px;">
                                                <%= (parseFloat(product.price)).toFixed(2).replace('.', ',').split('').reverse().map((v, i) => i > 5 && (i + 6) % 3 === 0 ? `${v}.` : v).reverse().join('') %>
                                            </td>
                                            <td style="width: 10%; padding-top: 30px;">
                                                <%= (product.qty * (parseFloat(product.price))).toFixed(2).replace('.', ',').split('').reverse().map((v, i) => i > 5 && (i + 6) % 3 === 0 ? `${v}.` : v).reverse().join('') %>
                                            </td>
                                        <% } %>
                                    <td style="width: 10%; padding-top: 20px;">
                                        <input type="number" class="form-control" id="qty" name="qty" value="<%= product.qty %>" min="1" max="1000"></td>
                                    <td style="width: 10%; padding-top: 20px; font-size: large; font-weight: bold;">
                                        <form action="/cart" method="POST">
                                            <input type="hidden" id="remove" name="remove" value="<%= product.sku %>">
                                            <input type="submit" id="btnRemoveProductFromCart" name="btnRemoveProductFromCart" value="X" class="btn btn-md btn-danger">
                                        </form>
                                    </td>
                                </tr>
                                <% }) %>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="row col-md-12">
                <div class="row cart-title">RESUMO DO PEDIDO</div>
                <div class="row">
                    <div class="table-responsive">
                        <table class="table table-borderless" style="background-color: #fff;">
                            <tr>
                                <td style="width: 50%; text-align: left;">Subtotal</td>
                                <td style="width: 50%; text-align: right;"><%= (parseFloat(resume.subtotal)).toFixed(2).replace('.', ',').split('').reverse().map((v, i) => i > 5 && (i + 6) % 3 === 0 ? `${v}.` : v).reverse().join('') %></td>
                            </tr>
                            <tr>
                                <td style="width: 50%; text-align: left;">Cálculo de Frete</td>
                                <td style="width: 50%; text-align: right;">
                                    <input type="text" class="form-control" id="freightCalculation" name="freightCalculation" placeholder="CEP">
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 50%; text-align: left; font-weight: bold; font-size: larger;">Total</td>
                                <td style="width: 50%; text-align: right; font-weight: bold; font-size: larger;"><%= (parseFloat(resume.total)).toFixed(2).replace('.', ',').split('').reverse().map((v, i) => i > 5 && (i + 6) % 3 === 0 ? `${v}.` : v).reverse().join('') %></td>
                            </tr>
                            <tr>
                                <td colspan="2" style="text-align: right;"><input type="submit" id="btnAddProductToCart" name="btnAddProductToCart" value="COMPRAR" class="btn btn-md btn-success"></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <% } %>
</div>
<!-- </div> -->